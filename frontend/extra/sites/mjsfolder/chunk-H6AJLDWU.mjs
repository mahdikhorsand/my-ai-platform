import{A as i,D as J,ha as W,ia as z}from"./chunk-Y54W6LH6.mjs";import{c as x}from"./chunk-A3IIQ6X3.mjs";var w,at=Object.create,q=Object.defineProperty,ot=Object.getOwnPropertyDescriptor,X=Object.getOwnPropertyNames,lt=Object.getPrototypeOf,ut=Object.prototype.hasOwnProperty,ht=(e,t,r)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ct=(e,t)=>function(){return t||(0,e[X(e)[0]])((t={exports:{}}).exports,t),t.exports},ft=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of X(t))ut.call(e,s)||s===r||q(e,s,{get:()=>t[s],enumerable:!(n=ot(t,s))||n.enumerable});return e},dt=(e,t,r)=>(r=e!=null?at(lt(e)):{},ft(!t&&e&&e.__esModule?r:q(r,"default",{value:e,enumerable:!0}),e)),v=(e,t,r)=>ht(e,typeof t!="symbol"?t+"":t,r),gt=ct({"../../../node_modules/dataloader/index.js"(e,t){var r,n=function(){function a(u,h){if(typeof u!="function")throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+u+".");this._batchLoadFn=u,this._maxBatchSize=function(o){if(!(!o||o.batch!==!1))return 1;var c=o&&o.maxBatchSize;if(c===void 0)return 1/0;if(typeof c!="number"||c<1)throw TypeError("maxBatchSize must be a positive number: "+c);return c}(h),this._batchScheduleFn=function(o){var c=o&&o.batchScheduleFn;if(c===void 0)return s;if(typeof c!="function")throw TypeError("batchScheduleFn must be a function: "+c);return c}(h),this._cacheKeyFn=function(o){var c=o&&o.cacheKeyFn;if(c===void 0)return function(y){return y};if(typeof c!="function")throw TypeError("cacheKeyFn must be a function: "+c);return c}(h),this._cacheMap=function(o){if(!(!o||o.cache!==!1))return null;var c=o&&o.cacheMap;if(c===void 0)return new Map;if(c!==null){var y=["get","set","delete","clear"].filter(function(L){return c&&typeof c[L]!="function"});if(y.length!==0)throw TypeError("Custom cacheMap missing methods: "+y.join(", "))}return c}(h),this._batch=null,this.name=h&&h.name?h.name:null}var f=a.prototype;return f.load=function(u){if(u==null)throw TypeError("The loader.load() function must be called with a value, but got: "+String(u)+".");var h=function(b){var U=b._batch;if(U!==null&&!U.hasDispatched&&U.keys.length<b._maxBatchSize)return U;var _={hasDispatched:!1,keys:[],callbacks:[]};return b._batch=_,b._batchScheduleFn(function(){(function(N,m){var k;if(m.hasDispatched=!0,m.keys.length===0){d(m);return}try{k=N._batchLoadFn(m.keys)}catch(S){return l(N,m,TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function errored synchronously: "+String(S)+"."))}if(!k||typeof k.then!="function")return l(N,m,TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(k)+"."));k.then(function(S){if(!p(S))throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(S)+".");if(S.length!==m.keys.length)throw TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.

Keys:
`+String(m.keys)+`

Values:
`+String(S));d(m);for(var T=0;T<m.callbacks.length;T++){var C=S[T];C instanceof Error?m.callbacks[T].reject(C):m.callbacks[T].resolve(C)}}).catch(function(S){l(N,m,S)})})(b,_)}),_}(this),o=this._cacheMap,c=this._cacheKeyFn(u);if(o){var y=o.get(c);if(y){var L=h.cacheHits||(h.cacheHits=[]);return new Promise(function(b){L.push(function(){b(y)})})}}h.keys.push(u);var V=new Promise(function(b,U){h.callbacks.push({resolve:b,reject:U})});return o&&o.set(c,V),V},f.loadMany=function(u){if(!p(u))throw TypeError("The loader.loadMany() function must be called with Array<key> but got: "+u+".");for(var h=[],o=0;o<u.length;o++)h.push(this.load(u[o]).catch(function(c){return c}));return Promise.all(h)},f.clear=function(u){var h=this._cacheMap;if(h){var o=this._cacheKeyFn(u);h.delete(o)}return this},f.clearAll=function(){var u=this._cacheMap;return u&&u.clear(),this},f.prime=function(u,h){var o=this._cacheMap;if(o){var c,y=this._cacheKeyFn(u);o.get(y)===void 0&&(h instanceof Error?(c=Promise.reject(h)).catch(function(){}):c=Promise.resolve(h),o.set(y,c))}return this},a}(),s=typeof process=="object"&&typeof process.nextTick=="function"?function(a){r||(r=Promise.resolve()),r.then(function(){process.nextTick(a)})}:typeof setImmediate=="function"?function(a){setImmediate(a)}:function(a){setTimeout(a)};function l(a,f,u){d(f);for(var h=0;h<f.keys.length;h++)a.clear(f.keys[h]),f.callbacks[h].reject(u)}function d(a){if(a.cacheHits)for(var f=0;f<a.cacheHits.length;f++)a.cacheHits[f]()}function p(a){return typeof a=="object"&&a!==null&&typeof a.length=="number"&&(a.length===0||a.length>0&&Object.prototype.hasOwnProperty.call(a,a.length-1))}t.exports=n}}),pt=dt(gt()),I={Uint8:1,Uint16:2,Uint32:4,BigUint64:8,Int8:1,Int16:2,Int32:4,BigInt64:8,Float32:4,Float64:8},K=class{getOffset(){return this.offset}ensureLength(e){let t=this.bytes.length;if(!(this.offset+e<=t))throw Error("Reading out of bounds")}readUint8(){let e=I.Uint8;this.ensureLength(e);let t=this.view.getUint8(this.offset);return this.offset+=e,t}readUint16(){let e=I.Uint16;this.ensureLength(e);let t=this.view.getUint16(this.offset);return this.offset+=e,t}readUint32(){let e=I.Uint32;this.ensureLength(e);let t=this.view.getUint32(this.offset);return this.offset+=e,t}readUint64(){let e=this.readBigUint64();return Number(e)}readBigUint64(){let e=I.BigUint64;this.ensureLength(e);let t=this.view.getBigUint64(this.offset);return this.offset+=e,t}readInt8(){let e=I.Int8;this.ensureLength(e);let t=this.view.getInt8(this.offset);return this.offset+=e,t}readInt16(){let e=I.Int16;this.ensureLength(e);let t=this.view.getInt16(this.offset);return this.offset+=e,t}readInt32(){let e=I.Int32;this.ensureLength(e);let t=this.view.getInt32(this.offset);return this.offset+=e,t}readInt64(){let e=this.readBigInt64();return Number(e)}readBigInt64(){let e=I.BigInt64;this.ensureLength(e);let t=this.view.getBigInt64(this.offset);return this.offset+=e,t}readFloat32(){let e=I.Float32;this.ensureLength(e);let t=this.view.getFloat32(this.offset);return this.offset+=e,t}readFloat64(){let e=I.Float64;this.ensureLength(e);let t=this.view.getFloat64(this.offset);return this.offset+=e,t}readBytes(e){let t=this.offset,r=t+e,n=this.bytes.subarray(t,r);return this.offset=r,n}readString(){let e=this.readUint32(),t=this.readBytes(e);return this.decoder.decode(t)}readJson(){let e=this.readString();return JSON.parse(e)}constructor(e){this.bytes=e,v(this,"offset",0),v(this,"view"),v(this,"decoder",new TextDecoder),this.view=yt(this.bytes)}};function yt(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}var mt=typeof x<"u",ye=mt&&typeof x.requestIdleCallback=="function";function g(e,...t){if(!e)throw Error("Assertion Error"+(t.length>0?": "+t.join(" "):""))}function E(e){throw Error(`Unexpected value: ${e}`)}var R=e=>2**e-1,A=e=>-(2**(e-1)),O=e=>2**(e-1)-1,me={Uint8:0,Uint16:0,Uint32:0,Uint64:0,BigUint64:0,Int8:A(8),Int16:A(16),Int32:A(32),Int64:Number.MIN_SAFE_INTEGER,BigInt64:-(BigInt(2)**BigInt(63))},ve={Uint8:R(8),Uint16:R(16),Uint32:R(32),Uint64:Number.MAX_SAFE_INTEGER,BigUint64:BigInt(2)**BigInt(64)-BigInt(1),Int8:O(8),Int16:O(16),Int32:O(32),Int64:Number.MAX_SAFE_INTEGER,BigInt64:BigInt(2)**BigInt(63)-BigInt(1)};function D(e){return Number.isFinite(e)}function F(e){return e===null}var B=class j{static fromString(t){let[r,n,s]=t.split("/").map(Number);return g(D(r),"Invalid chunkId"),g(D(n),"Invalid offset"),g(D(s),"Invalid length"),new j(r,n,s)}toString(){return`${this.chunkId}/${this.offset}/${this.length}`}static read(t){let r=t.readUint16(),n=t.readUint32(),s=t.readUint32();return new j(r,n,s)}write(t){t.writeUint16(this.chunkId),t.writeUint32(this.offset),t.writeUint32(this.length)}compare(t){return this.chunkId<t.chunkId?-1:this.chunkId>t.chunkId?1:this.offset<t.offset?-1:this.offset>t.offset?1:(g(this.length===t.length),0)}constructor(t,r,n){this.chunkId=t,this.offset=r,this.length=n}};function P(e){if(F(e))return 0;switch(e.type){case i.Array:return 1;case i.Boolean:return 2;case i.Color:return 3;case i.Date:return 4;case i.Enum:return 5;case i.File:return 6;case i.ResponsiveImage:return 10;case i.Link:return 7;case i.Number:return 8;case i.Object:return 9;case i.RichText:return 11;case i.String:return 12;case i.VectorSetItem:return 13;default:E(e)}}function vt(e){let t=e.readUint16(),r=[];for(let n=0;n<t;n++){let s=w.read(e);r.push(s)}return{type:i.Array,value:r}}function wt(e,t){for(let r of(e.writeUint16(t.value.length),t.value))w.write(e,r)}function It(e,t,r){let n=e.value.length,s=t.value.length;if(n<s)return-1;if(n>s)return 1;for(let l=0;l<n;l++){let d=e.value[l],p=t.value[l],a=w.compare(d,p,r);if(a!==0)return a}return 0}function bt(e){return{type:i.Boolean,value:e.readUint8()!==0}}function St(e,t){e.writeUint8(t.value?1:0)}function Ut(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function Lt(e){return{type:i.Color,value:e.readString()}}function kt(e,t){e.writeString(t.value)}function Tt(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function xt(e){let t=e.readInt64(),r=new Date(t);return{type:i.Date,value:r.toISOString()}}function Bt(e,t){let r=new Date(t.value),n=r.getTime();e.writeInt64(n)}function Nt(e,t){let r=new Date(e.value),n=new Date(t.value);return r<n?-1:r>n?1:0}function Et(e){return{type:i.Enum,value:e.readString()}}function Ft(e,t){e.writeString(t.value)}function Mt(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function _t(e){return{type:i.File,value:e.readString()}}function Ct(e,t){e.writeString(t.value)}function Rt(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function At(e){return{type:i.Link,value:e.readJson()}}function Ot(e,t){e.writeJson(t.value)}function Dt(e,t){let r=JSON.stringify(e.value),n=JSON.stringify(t.value);return r<n?-1:r>n?1:0}function Pt(e){return{type:i.Number,value:e.readFloat64()}}function jt(e,t){e.writeFloat64(t.value)}function qt(e,t){return e.value<t.value?-1:e.value>t.value?1:0}function Vt(e){let t=e.readUint16(),r={};for(let n=0;n<t;n++){let s=e.readString();r[s]=w.read(e)}return{type:i.Object,value:r}}function Jt(e,t){let r=Object.entries(t.value);for(let[n,s]of(e.writeUint16(r.length),r))e.writeString(n),w.write(e,s)}function Wt(e,t,r){let n=Object.keys(e.value).sort(),s=Object.keys(t.value).sort();if(n.length<s.length)return-1;if(n.length>s.length)return 1;for(let l=0;l<n.length;l++){let d=n[l],p=s[l];if(d<p)return-1;if(d>p)return 1;let a=e.value[d]??null,f=t.value[p]??null,u=w.compare(a,f,r);if(u!==0)return u}return 0}function zt(e){return{type:i.ResponsiveImage,value:e.readJson()}}function Kt(e,t){e.writeJson(t.value)}function $t(e,t){let r=JSON.stringify(e.value),n=JSON.stringify(t.value);return r<n?-1:r>n?1:0}function Gt(e){return{type:i.RichText,value:e.readUint32()}}function Yt(e,t){e.writeUint32(t.value)}function Ht(e,t){let r=e.value,n=t.value;return r<n?-1:r>n?1:0}function Qt(e){return{type:i.String,value:e.readString()}}function Xt(e,t){e.writeString(t.value)}function Zt(e,t,r){let n=e.value,s=t.value;return r.type===0&&(n=e.value.toLowerCase(),s=t.value.toLowerCase()),n<s?-1:n>s?1:0}function te(e){return{type:i.VectorSetItem,value:e.readUint32()}}function ee(e,t){e.writeUint32(t.value)}function re(e,t){let r=e.value,n=t.value;return r<n?-1:r>n?1:0}(e=>{e.read=function(t){let r=t.readUint8();switch(r){case 0:return null;case 1:return vt(t);case 2:return bt(t);case 3:return Lt(t);case 4:return xt(t);case 5:return Et(t);case 6:return _t(t);case 7:return At(t);case 8:return Pt(t);case 9:return Vt(t);case 10:return zt(t);case 11:return Gt(t);case 12:return Qt(t);case 13:return te(t);default:E(r)}},e.write=function(t,r){let n=P(r);if(t.writeUint8(n),!F(r))switch(r.type){case i.Array:return wt(t,r);case i.Boolean:return St(t,r);case i.Color:return kt(t,r);case i.Date:return Bt(t,r);case i.Enum:return Ft(t,r);case i.File:return Ct(t,r);case i.Link:return Ot(t,r);case i.Number:return jt(t,r);case i.Object:return Jt(t,r);case i.ResponsiveImage:return Kt(t,r);case i.RichText:return Yt(t,r);case i.VectorSetItem:return ee(t,r);case i.String:return Xt(t,r);default:E(r)}},e.compare=function(t,r,n){let s=P(t),l=P(r);if(s<l)return-1;if(s>l)return 1;if(F(t)||F(r))return 0;switch(t.type){case i.Array:return g(r.type===i.Array),It(t,r,n);case i.Boolean:return g(r.type===i.Boolean),Ut(t,r);case i.Color:return g(r.type===i.Color),Tt(t,r);case i.Date:return g(r.type===i.Date),Nt(t,r);case i.Enum:return g(r.type===i.Enum),Mt(t,r);case i.File:return g(r.type===i.File),Rt(t,r);case i.Link:return g(r.type===i.Link),Dt(t,r);case i.Number:return g(r.type===i.Number),qt(t,r);case i.Object:return g(r.type===i.Object),Wt(t,r,n);case i.ResponsiveImage:return g(r.type===i.ResponsiveImage),$t(t,r);case i.RichText:return g(r.type===i.RichText),Ht(t,r);case i.VectorSetItem:return g(r.type===i.VectorSetItem),re(t,r);case i.String:return g(r.type===i.String),Zt(t,r,n);default:E(t)}}})(w||(w={}));var $=3,ne=250,ie=[408,429,500,502,503,504],Z=async(e,t)=>{let r=0;for(;;){try{let n=await fetch(e,t);if(!ie.includes(n.status)||++r>$)return n}catch(n){if(t?.signal?.aborted||++r>$)throw n}await se(r)}};async function se(e){let t=Math.floor(ne*(Math.random()+1)*2**(e-1));await new Promise(r=>{setTimeout(r,t)})}async function ae(e,t){let r=le(t),n=[],s=0;for(let o of r)n.push(`${o.from}-${o.to-1}`),s+=o.to-o.from;let l=new URL(e),d=n.join(",");l.searchParams.set("range",d);let p=await Z(l);if(p.status!==200)throw Error(`Request failed: ${p.status} ${p.statusText}`);let a=await p.arrayBuffer(),f=new Uint8Array(a);if(f.length!==s)throw Error("Request failed: Unexpected response length");let u=new oe,h=0;for(let o of r){let c=o.to-o.from,y=h+c,L=f.subarray(h,y);u.write(o.from,L),h=y}return t.map(o=>u.read(o.from,o.to-o.from))}var oe=class{read(e,t){for(let r of this.chunks){if(e<r.start)break;if(e>r.end)continue;if(e+t>r.end)break;let n=e-r.start,s=n+t;return r.data.slice(n,s)}throw Error("Missing data")}write(e,t){let r=e,n=r+t.length,s=0,l=this.chunks.length;for(;s<l;s++){let a=this.chunks[s];if(g(a,"Missing chunk"),!(r>a.end)){if(r>a.start){let f=r-a.start,u=a.data.subarray(0,f);t=G(u,t),r=a.start}break}}for(;l>s;l--){let a=this.chunks[l-1];if(g(a,"Missing chunk"),!(n<a.start)){if(n<a.end){let f=n-a.start,u=a.data.subarray(f);t=G(t,u),n=a.end}break}}let d={start:r,end:n,data:t},p=l-s;this.chunks.splice(s,p,d)}constructor(){v(this,"chunks",[])}};function G(e,t){let r=e.length+t.length,n=new Uint8Array(r);return n.set(e,0),n.set(t,e.length),n}function le(e){g(e.length>0,"Must have at least one range");let t=[...e].sort((n,s)=>n.from-s.from),r=[];for(let n of t){let s=r.length-1,l=r[s];l&&n.from<=l.to?r[s]={from:l.from,to:Math.max(l.to,n.to)}:r.push(n)}return r}var Y=class tt{static read(t){let r=new tt,n=t.readUint16();for(let s=0;s<n;s++){let l=t.readString(),d=w.read(t);r.setField(l,d)}return r}write(t){for(let[r,n]of(t.writeUint16(this.fields.size),this.fields))t.writeString(r),w.write(t,n)}getData(){let t={};for(let[r,n]of this.fields)t[r]=n;return t}setField(t,r){this.fields.set(t,r)}getField(t){return this.fields.get(t)}constructor(){v(this,"fields",new Map)}},ue=class{scanItems(){return this.itemsPromise??=Z(this.url).then(async e=>{if(!e.ok)throw Error(`Request failed: ${e.status} ${e.statusText}`);let t=await e.arrayBuffer(),r=new Uint8Array(t),n=new K(r),s=[],l=n.readUint32();for(let d=0;d<l;d++){let p=n.getOffset(),a=Y.read(n),f=n.getOffset()-p,u=new B(this.id,p,f),h=u.toString(),o={pointer:h,data:a.getData()};this.itemLoader.prime(h,o),s.push(o)}return s}),this.itemsPromise}resolveItem(e){return this.itemLoader.load(e)}constructor(e,t){this.id=e,this.url=t,v(this,"itemsPromise"),v(this,"itemLoader",new pt.default(async r=>{let n=r.map(l=>{let d=B.fromString(l);return{from:d.offset,to:d.offset+d.length}});return(await ae(this.url,n)).map((l,d)=>{let p=new K(l),a=Y.read(p),f=r[d];return g(f,"Missing pointer"),{pointer:f,data:a.getData()}})}))}},et=class{async scanItems(){return(await Promise.all(this.chunks.map(async t=>t.scanItems()))).flat()}async resolveItems(e){return Promise.all(e.map(t=>{let r=B.fromString(t),n=this.chunks[r.chunkId];return g(n,"Missing chunk"),n.resolveItem(t)}))}compareItems(e,t){let r=B.fromString(e.pointer),n=B.fromString(t.pointer);return r.compare(n)}compareValues(e,t,r){return w.compare(e,t,r)}constructor(e){this.options=e,v(this,"schema"),v(this,"indexes"),v(this,"resolveRichText"),v(this,"resolveVectorSetItem"),v(this,"chunks"),this.chunks=this.options.chunks.map((t,r)=>new ue(r,t)),this.schema=e.schema,this.indexes=e.indexes,this.resolveRichText=e.resolveRichText,this.resolveVectorSetItem=e.resolveVectorSetItem}};var rt=(e,t)=>async()=>(await e())[t],nt=()=>import("./NtsbyiStm-2-VTZRYTOQ.mjs"),he=[rt(nt,"richText"),rt(nt,"richText1")];async function it(e){let t=he[e];if(t)return await t()}var ce={dIWTyr2Xj:{isNullable:!0,type:i.String},id:{isNullable:!1,type:i.String},nextItemId:{isNullable:!0,type:i.String},nlYzgaQbQ:{isNullable:!0,type:i.RichText},ntIpiYLS5:{isNullable:!0,type:i.String},previousItemId:{isNullable:!0,type:i.String},wHGaxOcbJ:{isNullable:!0,type:i.String}},fe=[],de=e=>{let t=fe[e];if(t)return t().then(r=>r.default)},ge=new W,st=new z(ge),M={collectionByLocaleId:{default:new et({chunks:[new URL("./NtsbyiStm-chunk-default-0.framercms","https://framerusercontent.com/modules/4qhlyjnvq28rwWASs8jz/pyb5KNMFK0RIyIIuocyZ/NtsbyiStm.js").href.replace("/modules/","/cms/")],indexes:[],resolveRichText:it,resolveVectorSetItem:de,schema:ce})},displayName:"Policies"},Fe=M;J(M,{dIWTyr2Xj:{defaultValue:"",title:"Title",type:i.String},wHGaxOcbJ:{defaultValue:"",title:"Subtext",type:i.String},ntIpiYLS5:{title:"Slug",type:i.String},nlYzgaQbQ:{defaultValue:"",title:"Content",type:i.RichText},previousItemId:{dataIdentifier:"local-module:collection/NtsbyiStm:default",title:"Previous",type:i.CollectionReference},nextItemId:{dataIdentifier:"local-module:collection/NtsbyiStm:default",title:"Next",type:i.CollectionReference}});var Me={},_e={async getSlugByRecordId(e,t){let[r]=await st.get({from:{data:M,type:"Collection"},limit:{type:"LiteralValue",value:1},select:[{name:"ntIpiYLS5",type:"Identifier"}],where:{left:{name:"id",type:"Identifier"},operator:"==",right:{type:"LiteralValue",value:e},type:"BinaryOperation"}},t).readAsync();return r?.ntIpiYLS5},async getRecordIdBySlug(e,t){let[r]=await st.get({from:{data:M,type:"Collection"},limit:{type:"LiteralValue",value:1},select:[{name:"id",type:"Identifier"}],where:{left:{name:"ntIpiYLS5",type:"Identifier"},operator:"==",right:{type:"LiteralValue",value:e},type:"BinaryOperation"}},t).readAsync();return r?.id}},Ce={exports:{enumToDisplayNameFunctions:{type:"variable",annotations:{framerContractVersion:"1"}},utils:{type:"variable",annotations:{framerContractVersion:"1"}},default:{type:"data",name:"data",annotations:{framerSlug:"ntIpiYLS5",framerColorSyntax:"false",framerRecordIdKey:"id",framerCollectionId:"NtsbyiStm",framerContractVersion:"1",framerCollectionUtils:"1",framerAutoSizeImages:"true",framerData:"",framerEnumToDisplayNameUtils:"2"}},__FramerMetadata__:{type:"variable"}}};export{Fe as a,Me as b,_e as c,Ce as d};
//# sourceMappingURL=chunk-H6AJLDWU.mjs.map
